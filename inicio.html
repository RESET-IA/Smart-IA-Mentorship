<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RESET¬Æ - Educaci√≥n</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="IMAGENES/ICONO.png" type="image/x-icon">
    <link rel="stylesheet" href="estilo.css">
</head>
<body>

    <!-- Header -->
    <header class="top-header">
        
        <div></div> <!-- Espacio vac√≠o para centrar -->
        <div class="right-header">
            <img src="IMAGENES/LogoJK.png" alt="Johannes Kepler">
        </div>
    </header>

    <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
    <!-- Men√∫ Lateral -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="IMAGENES/Logo-AIMentorCraft.png" alt="MentorCraft" class="mentorcraft-logo">
            <img src="IMAGENES/LogoResetTheHuman-INGRESO.png" alt="Reset" class="reset-logo">
        </div>

        <nav class="menu">
            <ul>
                <li onclick="showSection('matematicas')"><i class="fas fa-square-root-alt"></i> Matem√°ticas</li>
                <li onclick="showSection('ciencias')"><i class="fas fa-flask"></i> Ciencias</li>
                <li onclick="showSection('lengua-literatura')"><i class="fas fa-book"></i> Lengua y Literatura</li>
                <li onclick="showSection('estudios-sociales')"><i class="fas fa-globe"></i> Estudios Sociales</li>
                <li onclick="showSection('ingles')"><i class="fas fa-language"></i> Ingl√©s</li>
                <li class="diferente" onclick="showSection('docentes')"><i class="fas fa-chalkboard-teacher"></i> Docentes</li>
                <li class="diferente" onclick="showSection('administrativos')"><i class="fas fa-briefcase"></i> Administrativos</li>
                <li class="diferente" onclick="showSection('secretaria')"><i class="fas fa-user-tie"></i> Secretar√≠a</li>
                <li class="diferente" onclick="showSection('orientacion')"><i class="fas fa-users"></i> Orientaci√≥n Estudiantil</li>
            </ul>
        </nav>        
               
        <!-- Corpus de Entrenamiento -->
        <div class="corpus-container">
            <img src="IMAGENES/BotonCorpus.png" alt="Corpus de Entrenamiento" class="corpus-title-img">
            <right><img src="IMAGENES/FotoSofi.png" alt="Cerebro" width="90px" height="100px"></right>
        </div>
            <div>
                <right><img src="IMAGENES/animated_brain_latin.gif" alt="Cerebro" width="60px" height="60px"></right>
            </div>

    </div>
    <!-- Asistente -->
    <script>
        var vapiInstance = null;
        const assistant = "150b71c6-e01c-4fc2-9c1d-8601bc442cbc"; // Substitute with your assistant ID
        const apiKey = "a0f5f18d-c6ca-408c-9f6d-c157986d36f5"; // Substitute with your Public key from Vapi Dashboard.
        const buttonIconURL = "IMAGENES/Cerebroconlentes.ico"; // Ruta correcta de la imagen
        const buttonConfig = {
                position: "bottom-right", // "bottom" | "top" | "left" | "right" | "top-right" | "top-left" | "bottom-left" | "bottom-right"
                offset: "30px", // decide how far the button should be from the edge
                width: "100px", // min-width of the button
                height: "100px", // height of the button
                idle: { // button state when the call is not active.
                    color: `rgb(214, 84, 0)`, // Negro
                    type: "round", // or "round"
                    title: "Servicio al Cliente", // only required in case of Pill
                    subtitle: "Habla con nuestro Asistente", // only required in case of pill
                    icon: buttonIconURL,
                },
                loading: { // button state when the call is connecting
                    color: `rgb(255, 102, 0)`, // Naranja
                    type: "round", // or "round"
                    title: "Conectando...", // only required in case of Pill
                    subtitle: "Espera un momento", // only required in case of pill
                    icon: `https://unpkg.com/lucide-static@0.321.0/icons/loader-2.svg`,
                },
                active: { // button state when the call is in progress or active.
                    color: `rgb(255, 85, 0)`, // Naranja m√°s oscuro
                    type: "round", // or "round"
                    title: "Llamada en progreso...", // only required in case of Pill
                    icon: buttonIconURL,
                },
        };
      
        (function (d, t) {
          var g = document.createElement(t),
            s = d.getElementsByTagName(t)[0];
          g.src =
            "https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js";
          g.defer = true;
          g.async = true;
          s.parentNode.insertBefore(g, s);
      
          g.onload = function () {
            vapiInstance = window.vapiSDK.run({
              apiKey: apiKey, // mandatory
              assistant: assistant, // mandatory
              config: buttonConfig, // optional
            });
          };
        })(document, "script");
    
        vapiInstance.on('speech-start', () => {
            console.log('Speech has started');
        });
    
        vapiInstance.on('speech-end', () => {
            console.log('Speech has ended');
        });
    
        vapiInstance.on('call-start', () => {
            console.log('Call has started');
        });
    
        vapiInstance.on('call-end', () => {
            console.log('Call has stopped');
        });
    
        vapiInstance.on('volume-level', (volume) => {
            console.log(`Assistant volume level: ${volume}`);
        });
    
        // Function calls and transcripts will be sent via messages
        vapiInstance.on('message', (message) => {
            console.log(message);
        });
    
        vapiInstance.on('error', (e) => {
            console.error(e)
        });
      </script>
   

<!-- Contenedor de la imagen de la misi√≥n -->
<div class="mission-container">
    <!-- Imagen de la misi√≥n -->
    <img src="IMAGENES/Toda_EscenaPrimeraPantalla-AIMentorCraft.png" alt="Misi√≥n 1 - Numb3rland" class="image2">
    
    <!-- Bot√≥n de inicio con imagen -->
    <div class="mission-button1">
        <img src="IMAGENES/BotonStart.png" alt="Iniciar Misi√≥n" onclick="openVideo()">
    </div>
</div>
<!-- Modal con el video -->
<div id="videoModal" class="modal" style="display: none;"> <!-- Asegurar que est√© oculto al inicio -->
    <div class="modal-content">
        <span class="close" onclick="closeVideo()">&times;</span>
        <video id="missionVideo" controls>
            <source src="IMAGENES/IntroEscena1.mp4" type="video/mp4">
            Tu navegador no soporta videos.
        </video>
    </div>
</div>

<script>document.addEventListener("DOMContentLoaded", function() {
    let modal = document.getElementById("videoModal");
    let video = document.getElementById("missionVideo");

    // Asegurar que el modal y el video est√©n ocultos y detenidos al cargar la p√°gina
    modal.style.display = "none";
    video.pause();
    video.currentTime = 0;

    // Evento para detectar cuando termina el video
    video.addEventListener("ended", function() {
        closeVideo(); // Cerrar el modal
        showSection('matematicas'); // Redirigir a la secci√≥n de Matem√°ticas
    });
});

function openVideo() {
    let modal = document.getElementById("videoModal");
    let video = document.getElementById("missionVideo");
    modal.style.display = "flex";
    video.play(); // Iniciar la reproducci√≥n solo al presionar el bot√≥n
}

function closeVideo() {
    let modal = document.getElementById("videoModal");
    let video = document.getElementById("missionVideo");
    modal.style.display = "none";
    video.pause(); // Detener el video al cerrar el modal
    video.currentTime = 0; // Reiniciar el video al inicio
}
</script>



<!-- Contenedor principal -->
<div class="main">
    <div id="matematicas" class="section1">
        <!-- Imagen de la misi√≥n -->
        <img src="IMAGENES/BackJuegoMateGeogra-AIMentorCraft.png" alt="Juego" class="image1">
        
        <!-- Bot√≥n de inicio con imagen -->
        <div class="mission-button">
            <img src="IMAGENES/BotonOptions.png" alt="Iniciar Juego" onclick="abrirVentana()">
        </div>
    </div>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap');

        .boton {
            display: block;
            background: linear-gradient(to bottom, #e6b800, #b8860b);
            border: 3px solid #704214;
            color: #fff;
            font-size: 18px;
            font-weight: bold;
            padding: 12px;
            margin: 10px auto;
            width: 90%;
            max-width: 500px;
            cursor: pointer;
            border-radius: 10px;
            transition: 0.3s;
            box-shadow: 0px 4px 8px rgba(255, 215, 0, 0.5);
        }

        .boton:hover {
            background: linear-gradient(to bottom, #ffcc33, #b8860b);
            transform: scale(1.05);
            box-shadow: 0px 6px 12px rgba(255, 215, 0, 0.9);
        }

        /* Estilo para la ventana emergente */
        .modal1 {
            display: none; /* Ocultar por defecto */
            position: fixed;
            z-index: 1; /* Establecer la ventana emergente en el frente */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Fondo oscuro */
            overflow: auto;
            padding-top: 50px;
            text-align: center;
        }

        /* Contenido de la ventana emergente */
        .modal-content1 {
            background-color: rgba(15, 10, 5, 0.95);
            margin: -10px auto; /* Ajustar el margen superior para moverlo hacia arriba */
            padding: 40px;
            border-radius: 20px;
            width: 80%;
            max-width: 1000px;
            box-shadow: 0 0 25px rgba(255, 165, 0, 0.8);
        }

        h1 {
            font-size: 32px;
            color: #f8d64e;
            text-shadow: 3px 3px 10px rgba(255, 215, 0, 0.8);
            text-align: center;
        }

        p {
            font-size: 22px;
            font-weight: bold;
            color: #fff;
            margin-bottom: 20px;
        }

        .mentor-container {
            position: absolute;
            bottom: 70px;
            right: 20px;
            display: flex;
            align-items: center;
            background: rgba(50, 30, 15, 0.9);
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #d4af37;
            box-shadow: 0px 0px 10px rgba(255, 215, 0, 0.7);
            max-width: 250px;
        }

        .mentor {
            width: 60px;
            height: auto;
            margin-right: 10px;
        }

        .mentor-texto {
            font-size: 14px;
            font-weight: bold;
            color: #f8d64e;
        }

        .final {
            display: none;
        }
    </style>

    <!-- La ventana emergente -->
    <div id="miModal" class="modal1">
        <div class="modal-content1">
            <div class="marco" id="preguntas">
                <h1>üè∞ Misi√≥n: Reto del Mapa üè∞</h1>
                <br>
                <p id="pregunta"></p>
                <button class="boton" onclick="verificarRespuesta(0)" id="opcion0"></button>
                <button class="boton" onclick="verificarRespuesta(1)" id="opcion1"></button>
                <button class="boton" onclick="verificarRespuesta(2)" id="opcion2"></button>
                <p id="resultado"></p>
                <button class="boton continuar" onclick="siguientePregunta()" style="display: none;">Continuar</button>
            </div>
        
            <div class="marco" id="pruebaAgilidad" style="display: none;">
                <h1>‚ö° Prueba de Agilidad ‚ö°</h1>
                <br>
                <p>Cuando creas que han pasado 10 segundos, presiona el bot√≥n.</p>
                <p id="cronometro">00:00:00</p>
                <button class="boton" onclick="detenerCronometro()">¬°Detener ahora!</button>
            </div>
        
            <div class="marco final" id="final">
                <h1>üèÜ ¬°Has completado la misi√≥n! üèÜ</h1>
                <br>
                <p id="tiempoFinal"></p>
                <button class="boton" onclick="reiniciarJuego()">üîÑ Reiniciar</button>
                <button class="boton" onclick="terminarSesion()">üö™ Terminar Sesi√≥n</button>
            </div>
            
            <div class="mentor-container">
                <img src="https://i.postimg.cc/nhgT4hX6/Mentor-Cientifico-Esteban.png" alt="Mentor Cient√≠fico" class="mentor">
                <p id="mensajeMentor" class="mentor-texto">"¬°Prep√°rate para el reto!"</p>
            </div>
        </div>
    </div>

    <script>
        let preguntas = [
            { texto: "Si la escala es 1 cm = 3 km y la distancia en el mapa es 6 cm, ¬øcu√°ntos km representa?", opciones: ["9 km", "18 km", "12 km"], respuesta: 0 },
            { texto: "Si la escala es 5 cm = 10 km y la distancia en el mapa es 7.5 cm, ¬øcu√°ntos km reales?", opciones: ["12 km", "15 km", "18 km"], respuesta: 1 },
            { texto: "Si la escala es 2 cm = 8 km y la distancia en el mapa es 10 cm, ¬øcu√°l es la distancia real?", opciones: ["20 km", "40 km", "50 km"], respuesta: 1 }
        ];

        let preguntaActual = 0;
        let tiempoInicio = 0;
        let intervalID;

        function cargarPregunta() {
            let pregunta = preguntas[preguntaActual];
            document.getElementById("pregunta").innerText = pregunta.texto;
            for (let i = 0; i < 3; i++) {
                document.getElementById(`opcion${i}`).innerText = pregunta.opciones[i];
            }
            document.getElementById("resultado").style.display = "none";
            document.querySelector(".continuar").style.display = "none";
        }

        function verificarRespuesta(indice) {
            document.getElementById("resultado").style.display = "block";
            if (indice === preguntas[preguntaActual].respuesta) {
                document.getElementById("resultado").innerText = "‚úÖ ¬°Correcto!";
                document.querySelector(".continuar").style.display = "block";
            } else {
                document.getElementById("resultado").innerText = "‚ùå Incorrecto.";
            }
        }

        function siguientePregunta() {
            preguntaActual++;
            if (preguntaActual < preguntas.length) {
                cargarPregunta();
            } else {
                document.getElementById("preguntas").style.display = "none";
                document.getElementById("pruebaAgilidad").style.display = "block";
                tiempoInicio = performance.now();
                actualizarCronometro();
            }
        }

        // Funci√≥n para iniciar el cron√≥metro
        function actualizarCronometro() {
            if (!intervalID) { // Solo iniciarlo si no est√° ya en ejecuci√≥n
                intervalID = setInterval(() => {
                    let tiempoActual = performance.now();
                    let tiempoTranscurrido = tiempoActual - tiempoInicio;
                    let minutos = Math.floor(tiempoTranscurrido / 60000);
                    let segundos = Math.floor((tiempoTranscurrido % 60000) / 1000);
                    let milisegundos = Math.floor((tiempoTranscurrido % 1000));

                    document.getElementById("cronometro").innerText = 
                        String(minutos).padStart(2, '0') + ":" +
                        String(segundos).padStart(2, '0') + ":" +
                        String(milisegundos).padStart(3, '0');
                }, 50);
            }
        }

        // Funci√≥n para detener el cron√≥metro
        function detenerCronometro() {
            clearInterval(intervalID);
            intervalID = null; // Resetear el intervalID
            let tiempoFinal = document.getElementById("cronometro").innerText;
            document.getElementById("pruebaAgilidad").style.display = "none";
            document.getElementById("final").style.display = "block";
            document.getElementById("tiempoFinal").innerText = `Tu tiempo final fue: ${tiempoFinal}`;
        }

        window.onload = cargarPregunta;

        // Funci√≥n para abrir la ventana emergente
        function abrirVentana() {
            document.getElementById("miModal").style.display = "block";
            cargarPregunta(); // Cargar la primera pregunta al abrir la ventana emergente
        }

        // Cerrar la ventana emergente al hacer clic fuera de ella
        window.onclick = function(event) {
            if (event.target === document.getElementById("miModal")) {
                document.getElementById("miModal").style.display = "none";
            }
        }

        // Funci√≥n para reiniciar el juego
        function reiniciarJuego() {
            preguntaActual = 0; // Reiniciar la pregunta
            document.getElementById("final").style.display = "none"; // Ocultar la secci√≥n final
            document.getElementById("miModal").style.display = "none"; // Cerrar el modal
            abrirVentana(); // Volver a abrir la ventana emergente para empezar el juego de nuevo
        }

        // Funci√≥n para terminar la sesi√≥n
        function terminarSesion() {
            document.getElementById("miModal").style.display = "none"; // Cerrar el modal
            // Aqu√≠ puedes agregar cualquier otra acci√≥n para terminar la sesi√≥n, si es necesario
        }

        // Funci√≥n para abrir la ventana emergente (con reinicio adecuado)
        function abrirVentana() {
            document.getElementById("miModal").style.display = "block"; // Abrir el modal
            cargarPregunta(); // Cargar la primera pregunta al abrir la ventana emergente
            document.getElementById("pruebaAgilidad").style.display = "none"; // Asegurarse de que la prueba de agilidad est√© oculta al inicio
            document.getElementById("preguntas").style.display = "block"; // Asegurarse de que las preguntas se muestren al reiniciar
            document.getElementById("final").style.display = "none"; // Asegurarse de que la pantalla final est√© oculta
            resetearCronometro(); // Resetear el cron√≥metro
        }

        // Funci√≥n para cargar la pregunta
        function cargarPregunta() {
            let pregunta = preguntas[preguntaActual];
            document.getElementById("pregunta").innerText = pregunta.texto;
            for (let i = 0; i < 3; i++) {
                document.getElementById(`opcion${i}`).innerText = pregunta.opciones[i];
            }
            document.getElementById("resultado").style.display = "none";
            document.querySelector(".continuar").style.display = "none";
        }

        // Funci√≥n para restablecer el cron√≥metro
        function resetearCronometro() {
            clearInterval(intervalID); // Detener cualquier cron√≥metro en ejecuci√≥n
            intervalID = null; // Resetear el intervalo
            document.getElementById("cronometro").innerText = "00:00:00"; // Resetear el cron√≥metro a cero
        }

    </script>

     <div id="ciencias" class="section">
         <img src="IMAGENES/Artesanos-_-AI-Agents-ByReset.png" alt="Talento Humano - AI Agents ByReset">
         <h2><i class="fas fa-flask"></i> Ciencias</h2>
         <div class="cards">
             <div class="card"><i class="fas fa-dna"></i> Experimentos Virtuales</div>
             <div class="card"><i class="fas fa-microscope"></i> Laboratorio 3D</div>
             <div class="card"><i class="fas fa-seedling"></i> Biolog√≠a en Acci√≥n</div>
         </div>
     </div>

     <div id="lengua-literatura" class="section">
         <img src="IMAGENES/Artesanos-_-AI-Agents-ByReset.png" alt="Talento Humano - AI Agents ByReset">
         <h2><i class="fas fa-book"></i> Lengua y Literatura</h2>
         <div class="cards">
             <div class="card"><i class="fas fa-book-reader"></i> Club de Lectura</div>
             <div class="card"><i class="fas fa-pen-fancy"></i> Taller de Escritura</div>
             <div class="card"><i class="fas fa-scroll"></i> An√°lisis Literario</div>
         </div>
     </div>
     
     <div id="estudios-sociales" class="section">
         <img src="IMAGENES/Artesanos-_-AI-Agents-ByReset.png" alt="Talento Humano - AI Agents ByReset">
         <h2><i class="fas fa-globe-americas"></i> Estudios Sociales</h2>
         <div class="cards">
             <div class="card"><i class="fas fa-landmark"></i> Historia y Cultura</div>
             <div class="card"><i class="fas fa-map-marked-alt"></i> Geograf√≠a Interactiva</div>
             <div class="card"><i class="fas fa-users"></i> Sociedad y Ciudadan√≠a</div>
         </div>
     </div>
     
     <div id="ingles" class="section">
         <img src="IMAGENES/Artesanos-_-AI-Agents-ByReset.png" alt="Talento Humano - AI Agents ByReset">
         <h2><i class="fas fa-flag-uk"></i> Ingl√©s</h2>
         <div class="cards">
             <div class="card"><i class="fas fa-comment-dots"></i> Conversaci√≥n y Pronunciaci√≥n</div>
             <div class="card"><i class="fas fa-book-open"></i> Gram√°tica Din√°mica</div>
             <div class="card"><i class="fas fa-pencil-alt"></i> Comprensi√≥n y Escritura</div>
         </div>
     </div>
     
     <div id="docentes" class="section">
         <img src="IMAGENES/Artesanos-_-AI-Agents-ByReset.png" alt="Talento Humano - AI Agents ByReset">
         <h2><i class="fas fa-chalkboard-teacher"></i> Docentes</h2>
         <div class="cards">
             <div class="card"><i class="fas fa-book"></i> Capacitaci√≥n Continua</div>
             <div class="card"><i class="fas fa-lightbulb"></i> Estrategias Pedag√≥gicas</div>
             <div class="card"><i class="fas fa-flask"></i> Innovaci√≥n Educativa</div>
         </div>
     </div>
     
     <div id="administrativos" class="section">
         <img src="IMAGENES/Artesanos-_-AI-Agents-ByReset.png" alt="Talento Humano - AI Agents ByReset">
         <h2><i class="fas fa-building"></i> Administrativos</h2>
         <div class="cards">
             <div class="card"><i class="fas fa-tasks"></i> Gesti√≥n y Organizaci√≥n</div>
             <div class="card"><i class="fas fa-boxes"></i> Recursos y Log√≠stica</div>
             <div class="card"><i class="fas fa-cogs"></i> Optimizaci√≥n de Procesos</div>
         </div>
     </div>
    
     <div id="secretaria" class="section">
         <img src="IMAGENES/Artesanos-_-AI-Agents-ByReset.png" alt="Talento Humano - AI Agents ByReset">
         <h2><i class="fas fa-folder-open"></i> Secretar√≠a</h2>
         <div class="cards">
             <div class="card"><i class="fas fa-concierge-bell"></i> Atenci√≥n al P√∫blico</div>
             <div class="card"><i class="fas fa-file-alt"></i> Gesti√≥n Documental</div>
             <div class="card"><i class="fas fa-laptop"></i> Soporte Administrativo</div>
         </div>
     </div>
    
    <div id="orientacion" class="section">
        <img src="IMAGENES/Artesanos-_-AI-Agents-ByReset.png" alt="Orientaci√≥n - AI Agents ByReset">
        <h2>üß≠ Orientaci√≥n</h2>
        <div class="cards">
            <div class="card" onclick="openChatSupport()"><i class="fas fa-chalkboard-teacher"></i>AI|AGENTS RESET (Docentes)</div>
            <div class="card"><i class="fas fa-user-graduate"></i>Estudiantes</div>
            <div class="card"><i class="fas fa-users"></i>Padres de Familia</div>
        </div>
    </div>
    
<script>
    function openFAQWindow() {
    alert("Aqu√≠ se abrir√° una secci√≥n de Preguntas Frecuentes pr√≥ximamente.");
}

function openChatSupport() {
    var width = 500;
    var height = 600;
    var screenWidth = window.screen.width;
    var screenHeight = window.screen.height;
    var left = (screenWidth - width) / 2;
    var top = (screenHeight - height) / 2;

    window.open(
        'https://elevenlabs.io/app/talk-to?agent_id=4fg3Iy6tPDHaMWxPwa8g', 
        'ChatSupportWindow', 
        `width=${width},height=${height},left=${left},top=${top},resizable=yes`
    );
}
</script>    

</div>

<script>
    function showSection(sectionId) {
        // Oculta todas las secciones
        document.querySelectorAll('.section').forEach(section => section.style.display = "none");
        document.querySelectorAll('.section1').forEach(section => section.style.display = "none");
        document.querySelectorAll('.mission-container').forEach(section => section.style.display = "none");

        // Muestra solo la secci√≥n seleccionada
        document.getElementById(sectionId).style.display = "block";

        // Actualiza el estado activo en el men√∫
        document.querySelectorAll(".menu li").forEach(item => item.classList.remove("active"));
        event.target.closest("li").classList.add("active");

        // Si est√° en m√≥vil/tablet, oculta el men√∫ al seleccionar una opci√≥n
        if (window.innerWidth <= 1024) {
            document.getElementById("sidebar").classList.remove("open");
        }
    }

    let opcionSeleccionada = false; // Variable para rastrear si se ha seleccionado una opci√≥n

function toggleMenu() {
    const sidebar = document.getElementById("sidebar");
    const mainContent = document.querySelector(".main");
    const missionContainer = document.querySelector(".mission-container");
    const chatButton = document.querySelector(".chat-button");

    const isOpening = !sidebar.classList.contains("open"); // Detectamos si se est√° abriendo

    sidebar.classList.toggle("open");
    mainContent.classList.toggle("hidden", isOpening); // Ocultar solo cuando se abre el men√∫
    chatButton.classList.toggle("hidden", isOpening);    

    if (!opcionSeleccionada && missionContainer) {
        missionContainer.style.display = isOpening ? "none" : "flex";
    }
    
    if (chatButton) {
        chatButton.style.display = isOpening ? "none" : "block";
    }
}

// Agregar evento a las opciones del men√∫ para registrar que se ha seleccionado una
document.querySelectorAll(".menu li").forEach(item => {
    item.addEventListener("click", function() {
        opcionSeleccionada = true; // Se marc√≥ una opci√≥n
        document.getElementById("sidebar").classList.remove("open"); // Oculta el men√∫
        document.querySelector(".main").classList.remove("hidden"); // Muestra el contenido

        // Oculta definitivamente el missionContainer al seleccionar una opci√≥n
        const missionContainer = document.querySelector(".mission-container");
        if (missionContainer) {
            missionContainer.style.display = "none";
        }
    });
});


</script>

<!-- Bot√≥n flotante con imagen desde URL -->
<button id="chat-toggle" class="chat-button">
    <img src="IMAGENES/KaiAvatar_ChatVoz.png" alt="Chatbot Cerebro">
</button>    

<!-- Contenedor del chatbot -->
<div id="chat-container" class="chat-container">
    <iframe src="https://studio.d-id.com/agents/share?id=agt_8LlMaU4m&utm_source=copy&key=WVhWMGFEQjhOamRpWlRFeVpURXhOekEyTVRZMU0yVTVaV1EwWW1VMk9rMDNOREJHYkhGVFUxaEVhMUEyU0Rjd1VsUlZOQT09" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

<script>
    // Funcionalidad para mostrar/ocultar el chatbot
    document.getElementById("chat-toggle").addEventListener("click", function () {
        let chatContainer = document.getElementById("chat-container");
        if (chatContainer.style.display === "none" || chatContainer.style.display === "") {
            chatContainer.style.display = "block";
        } else {
            chatContainer.style.display = "none";
        }
    });
</script>


</body>
</html>
